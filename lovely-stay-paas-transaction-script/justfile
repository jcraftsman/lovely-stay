# ğŸ³ğŸ“¦â–¶ï¸ containerize the app and run it
container: container-build container-start

# ğŸ³ğŸ“¦ containerize the app
container-build:
     docker build -t lovely-stay-paas-transaction-script .
     docker run -p 8000:80 lovely-stay-paas-transaction-script

# ğŸ³ğŸ“¦ start the app container
container-start:
     docker start -p 8000:80 lovely-stay-paas-transaction-script

# ğŸ³ğŸ§¸ dockerfile linting
container-lint:
     docker run --rm -i hadolint/hadolint < Dockerfile

# ğŸš€ deploy the app
deploy:
    poetry run pulumi up --cwd src/automation --yes

# ğŸš® destroy the app
destroy:
    poetry run pulumi destroy --cwd src/automation -v 3 --yes -f

# â–¶ï¸ start the app
start:
     poetry run uvicorn src.lovely_stay_paas_transaction_script.booking_api:app --reload

# ğŸ§ª run tests
test:
     poetry run pytest